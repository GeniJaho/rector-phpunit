name: Rector

on:
    pull_request: null

env:
    # see https://github.com/composer/composer/issues/9368#issuecomment-718112361
    COMPOSER_ROOT_VERSION: "dev-main"

jobs:
    rector:
        # Don't run on forks
        if: github.repository == 'rectorphp/rector-phpunit'

        uses: rectorphp/reusable-workflows/.github/workflows/rector.yaml@main
        secrets:
            ACCESS_TOKEN: ${{ secrets.ACCESS_TOKEN }}
